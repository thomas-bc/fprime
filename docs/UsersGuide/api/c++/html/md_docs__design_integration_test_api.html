<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>F´ Flight Software - C/C++ Documentation: Integration Test API Design</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">F´ Flight Software - C/C++ Documentation
   &#160;<span id="projectnumber">devel</span>
   </div>
   <div id="projectbrief">A framework for building embedded system applications to NASA flight quality standards.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs__design_integration_test_api.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Integration Test API Design </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This covers the design of the integration test API.</p>
<h2><a class="anchor" id="autotoc_md91"></a>
Integration Test API Outline</h2>
<p>The actual Test API is a very long class that has helpful doc-strings, but these don't convey its organization while skimming. Below is a table of how the API is organized with a brief summary of each section:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Test API Section   </th><th class="markdownTableHeadLeft">Section Description   </th><th class="markdownTableHeadLeft">Methods    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">API Functions   </td><td class="markdownTableBodyLeft">These functions give access to helpful API features.   </td><td class="markdownTableBodyLeft">start_test_case, log, get_latest_time, test_assert, predicate_assert, clear_histories, set_event_log_filter    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">History Functions   </td><td class="markdownTableBodyLeft">These functions give the user access to test histories and the ability to create sub-histories.   </td><td class="markdownTableBodyLeft">get_command_test_history, get_telemetry_test_history, get_event_test_history, get_telemetry_subhistory, remove_telemetry_subhistory, get_event_subhistory, remove_event_subhistory    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Command Functions   </td><td class="markdownTableBodyLeft">These functions provide the ability to send commands and search for events/telemetry.   </td><td class="markdownTableBodyLeft">translate_command_name, send_command, send_and_await_telemetry, send_and_await_event    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Command Asserts   </td><td class="markdownTableBodyLeft">These functions send commands then perform search and asserts on the histories   </td><td class="markdownTableBodyLeft">send_and_assert_telemetry, send_and_assert_event    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Telemetry Functions   </td><td class="markdownTableBodyLeft">These functions help specify and search for telemetry updates.   </td><td class="markdownTableBodyLeft">translate_telemetry_name, get_telemetry_pred, await_telemetry, await_telemetry_sequence, await_telemetry_count    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Telemetry Asserts   </td><td class="markdownTableBodyLeft">These functions search and assert for telemetry updates.   </td><td class="markdownTableBodyLeft">assert_telemetry, assert_telemetry_sequence, assert_telemetry_count    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Event Functions   </td><td class="markdownTableBodyLeft">These functions help specify and search for event messages.   </td><td class="markdownTableBodyLeft">translate_event_name, get_event_pred, await_event, await_event_sequence, await_event_count    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Event Asserts   </td><td class="markdownTableBodyLeft">These functions search and assert for event messages.   </td><td class="markdownTableBodyLeft">assert_event, assert_event_sequence, assert_event_count    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">History Searches   </td><td class="markdownTableBodyLeft">These functions implement the various searches in the API. They aren't meant for the user, but are mentioned to highlight where searches are actually performed.   </td><td class="markdownTableBodyLeft">__search_test_history, find_history_item, find_history_sequence, find_history_count   </td></tr>
</table>
<p>One thing to note about the API's implementation is that the API uses layering so that all searches can be defined by common arguments and share similar behaviors. A diagram of this layering is provided below. In the diagram, each box is an API call. The arrows show how the calls are layered.</p>
<p><img src="img/APISearchLayering.png" alt="Diagram of GDS Search Layering" class="inline"/></p>
<p>The table below outlines the additional functionality provided by each layer in above diagram.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Layer Name   </th><th class="markdownTableHeadRight">Diagram Row   </th><th class="markdownTableHeadLeft">Delegated Functionality    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Assert Layer   </td><td class="markdownTableBodyRight">1   </td><td class="markdownTableBodyLeft">This layer adds an assert to the end of the search to check if the search completed successfully.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Await Layer   </td><td class="markdownTableBodyRight">2   </td><td class="markdownTableBodyLeft">This layer differentiates whether the particular search is acting on the event or telemetry history.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Search Type Layer   </td><td class="markdownTableBodyRight">3   </td><td class="markdownTableBodyLeft">This layer determines what kind of search is being conducted. The API provides 3 types: item, count, and sequence.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Search Helper   </td><td class="markdownTableBodyRight">4   </td><td class="markdownTableBodyLeft">The search helper provides the logic, logging, search scoping. and sub-history functionality for all searches.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md92"></a>
Integration Test Classes</h2>
<p>The API uses several classes to support its features. They were organized within the already-present GDS class folder structure. A component view of the integration test API and its relationship to the Integration Tests and the GDS is shown in the diagram below. For simplicity, the predicates library has been left out, but it can be used by Integration tests and is presently used by the Test API and Test History layers. <img src="img/TestFwComponentView.png" alt="Component View of the Test Framework" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
